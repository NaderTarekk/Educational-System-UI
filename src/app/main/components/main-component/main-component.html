<!-- src/app/pages/main-component/main-component.html -->
<div class="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/50" dir="rtl">

    <!-- Loading State -->
    <div *ngIf="isLoading" class="flex items-center justify-center min-h-screen">
        <div class="text-center">
            <div class="w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4">
            </div>
            <p class="text-gray-600 font-semibold">ุฌุงุฑู ุงูุชุญููู...</p>
        </div>
    </div>

    <!-- ==================== ADMIN DASHBOARD ==================== -->
    <ng-container *ngIf="!isLoading && isAdmin && adminStats">

        <!-- Admin Welcome Header -->
        <div class="relative overflow-hidden bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white">
            <div class="absolute inset-0">
                <div
                    class="absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/4 blur-3xl">
                </div>
                <div
                    class="absolute bottom-0 left-0 w-80 h-80 bg-white/10 rounded-full translate-y-1/2 -translate-x-1/4 blur-3xl">
                </div>
            </div>

            <div class="relative container mx-auto px-4 sm:px-6 py-8 sm:py-12">
                <div class="flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6">
                    <div>
                        <div class="flex items-center gap-3 mb-3">
                            <span class="text-3xl">๐</span>
                            <h1 class="text-2xl sm:text-3xl lg:text-4xl font-bold">ูุฑุญุจุงู {{ user?.firstName }}</h1>
                        </div>
                        <p class="text-blue-100 text-lg">ุฅููู ูุธุฑุฉ ุณุฑูุนุฉ ุนูู ุฃุฏุงุก ููุตุชู ุงูุชุนููููุฉ</p>
                        <div class="flex items-center gap-4 mt-4">
                            <span class="px-3 py-1 bg-white/20 rounded-full text-sm">
                                <i class="fas fa-user-shield ml-2"></i>
                                {{ user?.role === 'Admin' ? 'ูุฏูุฑ ุงููุธุงู' : 'ูุณุงุนุฏ' }}
                            </span>
                        </div>
                    </div>

                    <div class="flex flex-wrap gap-3">
                        <button routerLink="/users/profile"
                            class="px-5 py-3 bg-white text-indigo-600 rounded-xl font-bold hover:shadow-lg hover:scale-105 transition-all flex items-center gap-2">
                            <i class="fa-solid fa-user"></i>
                            <span>ุตูุญุชู</span>
                        </button>
                        <button (click)="exportReports()" [disabled]="isExporting"
                            class="px-5 py-3 bg-white/20 backdrop-blur-sm text-white rounded-xl font-bold hover:bg-white/30 transition-all flex items-center gap-2">
                            <i class="fas" [ngClass]="isExporting ? 'fa-spinner fa-spin' : 'fa-download'"></i>
                            <span>{{ isExporting ? 'ุฌุงุฑู ุงูุชุตุฏูุฑ...' : 'ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ' }}</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <main class="container mx-auto px-4 sm:px-6 py-6 sm:py-8 -mt-6">

            <!-- Admin Stats Cards -->
            <div class="grid mt-4 grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8">

                <!-- Total Students -->
                <div
                    class="group bg-white rounded-2xl p-5 sm:p-6 shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 hover:border-blue-200 hover:-translate-y-1">
                    <div class="flex items-start justify-between mb-4">
                        <div
                            class="w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg shadow-blue-500/30 group-hover:scale-110 transition-transform">
                            <i class="fas fa-user-graduate text-white text-2xl"></i>
                        </div>
                        <div *ngIf="adminStats.studentGrowthPercentage > 0"
                            class="flex items-center gap-1 px-2 py-1 bg-green-100 text-green-600 rounded-lg text-xs font-bold">
                            <i class="fas fa-arrow-up"></i>
                            <span>{{ adminStats.studentGrowthPercentage }}%</span>
                        </div>
                    </div>
                    <p class="text-gray-500 text-sm mb-1">ุฅุฌูุงูู ุงูุทูุงุจ</p>
                    <p class="text-3xl font-black text-gray-900">{{ adminStats.totalStudents }}</p>
                    <div class="mt-3 pt-3 border-t border-gray-100">
                        <span class="text-xs text-gray-400">+{{ adminStats.newStudentsThisMonth }} ุทุงูุจ ูุฐุง ุงูุดูุฑ</span>
                    </div>
                </div>

                <!-- Active Groups -->
                <div
                    class="group bg-white rounded-2xl p-5 sm:p-6 shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 hover:border-purple-200 hover:-translate-y-1">
                    <div class="flex items-start justify-between mb-4">
                        <div
                            class="w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg shadow-purple-500/30 group-hover:scale-110 transition-transform">
                            <i class="fas fa-layer-group text-white text-2xl"></i>
                        </div>
                        <div *ngIf="adminStats.newGroupsThisMonth > 0"
                            class="flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-600 rounded-lg text-xs font-bold">
                            <i class="fas fa-plus"></i>
                            <span>{{ adminStats.newGroupsThisMonth }} ุฌุฏูุฏ</span>
                        </div>
                    </div>
                    <p class="text-gray-500 text-sm mb-1">ุงููุฌููุนุงุช ุงููุดุทุฉ</p>
                    <p class="text-3xl font-black text-gray-900">{{ adminStats.activeGroups }}</p>
                    <div class="mt-3 pt-3 border-t border-gray-100">
                        <span class="text-xs text-gray-400">ูู {{ adminStats.totalGroups }} ูุฌููุนุฉ</span>
                    </div>
                </div>

                <!-- Revenue -->
                <div
                    class="group bg-white rounded-2xl p-5 sm:p-6 shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 hover:border-green-200 hover:-translate-y-1">
                    <div class="flex items-start justify-between mb-4">
                        <div
                            class="w-14 h-14 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg shadow-green-500/30 group-hover:scale-110 transition-transform">
                            <i class="fas fa-coins text-white text-2xl"></i>
                        </div>
                        <div *ngIf="adminStats.revenueGrowthPercentage > 0"
                            class="flex items-center gap-1 px-2 py-1 bg-green-100 text-green-600 rounded-lg text-xs font-bold">
                            <i class="fas fa-arrow-up"></i>
                            <span>{{ adminStats.revenueGrowthPercentage }}%</span>
                        </div>
                    </div>
                    <p class="text-gray-500 text-sm mb-1">ุฅุฌูุงูู ุงูุฅูุฑุงุฏุงุช</p>
                    <p class="text-3xl font-black text-gray-900">{{ formatNumber(adminStats.totalRevenue) }}</p>
                    <div class="mt-3 pt-3 border-t border-gray-100">
                        <span class="text-xs text-gray-400">{{ formatNumber(adminStats.revenueThisMonth) }} ุฑ.ุณ ูุฐุง
                            ุงูุดูุฑ</span>
                    </div>
                </div>

                <!-- Pending Payments -->
                <div
                    class="group bg-white rounded-2xl p-5 sm:p-6 shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 hover:border-amber-200 hover:-translate-y-1">
                    <div class="flex items-start justify-between mb-4">
                        <div
                            class="w-14 h-14 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg shadow-amber-500/30 group-hover:scale-110 transition-transform">
                            <i class="fas fa-clock text-white text-2xl"></i>
                        </div>
                        <div *ngIf="adminStats.studentsWithPendingPayments > 0"
                            class="flex items-center gap-1 px-2 py-1 bg-amber-100 text-amber-600 rounded-lg text-xs font-bold">
                            <i class="fas fa-exclamation"></i>
                            <span>{{ adminStats.studentsWithPendingPayments }}</span>
                        </div>
                    </div>
                    <p class="text-gray-500 text-sm mb-1">ูุฏููุนุงุช ูุนููุฉ</p>
                    <p class="text-3xl font-black text-gray-900">{{ formatNumber(adminStats.pendingPayments) }}</p>
                    <div class="mt-3 pt-3 border-t border-gray-100">
                        <span class="text-xs text-gray-400">{{ adminStats.studentsWithPendingPayments }} ุทุงูุจ ูู
                            ูุฏูุนูุง</span>
                    </div>
                </div>
            </div>

            <!-- Admin Main Content -->
            <div class="grid grid-cols-1 xl:grid-cols-3 gap-6 mb-8">

                <!-- Revenue Chart -->
                <!-- Revenue Chart -->
                <div class="xl:col-span-2 bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                    <div class="p-6 border-b border-gray-100">
                        <div class="flex items-center justify-between">
                            <div>
                                <h2 class="text-xl font-bold text-gray-900">ุชูุฑูุฑ ุงูุฅูุฑุงุฏุงุช</h2>
                                <p class="text-sm text-gray-500 mt-1">ุฅูุฑุงุฏุงุช ุขุฎุฑ 5 ุดููุฑ</p>
                            </div>
                        </div>
                    </div>

                    <div class="p-6">
                        <!-- โ Fixed Chart -->
                        <div *ngIf="monthlyRevenue && monthlyRevenue.length > 0" class="space-y-5">
                            <div *ngFor="let month of monthlyRevenue; let i = index" class="chart-row">
                                <!-- Month Name -->
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm font-semibold text-gray-700">{{ month.monthName }}</span>
                                    <span class="text-sm font-bold text-gray-900">{{ formatNumber(month.revenue) }}
                                        ุฑ.ุณ</span>
                                </div>

                                <!-- Progress Bar -->
                                <div class="relative w-full h-3 bg-gray-100 rounded-full overflow-hidden">
                                    <div class="absolute inset-0 rounded-full transition-all duration-700 ease-out"
                                        [style.width]="getRevenueBarWidth(month.revenue)" [ngClass]="{
                            'bg-gradient-to-r from-blue-500 to-blue-600': i === 0,
                            'bg-gradient-to-r from-green-500 to-green-600': i === 1,
                            'bg-gradient-to-r from-purple-500 to-purple-600': i === 2,
                            'bg-gradient-to-r from-orange-500 to-orange-600': i === 3,
                            'bg-gradient-to-r from-pink-500 to-pink-600': i === 4
                        }">
                                    </div>
                                </div>

                                <!-- Payment Count -->
                                <div class="mt-1">
                                    <span class="text-xs text-gray-500">{{ month.paymentsCount }} ุฏูุนุฉ</span>
                                </div>
                            </div>
                        </div>

                        <!-- Empty State -->
                        <div *ngIf="!monthlyRevenue || monthlyRevenue.length === 0" class="text-center py-12">
                            <div
                                class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-chart-bar text-3xl text-gray-300"></i>
                            </div>
                            <h3 class="text-lg font-semibold text-gray-700 mb-2">ูุง ุชูุฌุฏ ุจูุงูุงุช</h3>
                            <p class="text-sm text-gray-500">ูู ูุชู ุงูุนุซูุฑ ุนูู ุฅูุฑุงุฏุงุช ูู ุงูุฃุดูุฑ ุงูุฃุฎูุฑุฉ</p>
                        </div>
                    </div>
                </div>

                <!-- Quick Stats -->
                <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                    <div class="p-5 border-b border-gray-100">
                        <h2 class="text-lg font-bold text-gray-900">ุฅุญุตุงุฆูุงุช ุณุฑูุนุฉ</h2>
                    </div>

                    <div class="p-4 space-y-4">
                        <div class="flex items-center justify-between p-4 bg-blue-50 rounded-xl">
                            <div>
                                <p class="text-sm text-gray-600 mb-1">ุงููุฏููุนุงุช ุงูููู</p>
                                <p class="text-2xl font-bold text-blue-600">{{ formatNumber(adminStats.revenueToday) }}
                                </p>
                            </div>
                            <div class="w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center">
                                <i class="fas fa-money-bill-wave text-white"></i>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-4 bg-green-50 rounded-xl">
                            <div>
                                <p class="text-sm text-gray-600 mb-1">ุทูุงุจ ุฌุฏุฏ</p>
                                <p class="text-2xl font-bold text-green-600">{{ adminStats.newStudentsThisMonth }}</p>
                            </div>
                            <div class="w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center">
                                <i class="fas fa-user-plus text-white"></i>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-4 bg-purple-50 rounded-xl">
                            <div>
                                <p class="text-sm text-gray-600 mb-1">ุฑุณุงุฆู ุบูุฑ ููุฑูุกุฉ</p>
                                <p class="text-2xl font-bold text-purple-600">{{ adminStats.unreadMessages }}</p>
                            </div>
                            <div class="w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center">
                                <i class="fas fa-envelope text-white"></i>
                            </div>
                        </div>

                        <!-- <div class="flex items-center justify-between p-4 bg-amber-50 rounded-xl">
                            <div>
                                <p class="text-sm text-gray-600 mb-1">ุงูุชุญุงูุงุช ูุดุทุฉ</p>
                                <p class="text-2xl font-bold text-amber-600">{{ adminStats.activeExams }}</p>
                            </div>
                            <div class="w-12 h-12 bg-amber-500 rounded-xl flex items-center justify-center">
                                <i class="fas fa-clipboard-list text-white"></i>
                            </div>
                        </div> -->
                    </div>
                </div>
            </div>

            <!-- Admin Quick Actions -->
            <div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
                <button routerLink="/users"
                    class="group p-6 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl text-white hover:shadow-xl hover:scale-105 transition-all">
                    <div
                        class="w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                        <i class="fas fa-users text-2xl"></i>
                    </div>
                    <p class="font-bold text-lg">ุงููุณุชุฎุฏููู</p>
                    <p class="text-blue-100 text-sm mt-1">ุฅุฏุงุฑุฉ ุงูุทูุงุจ</p>
                </button>

                <button routerLink="/groups"
                    class="group p-6 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl text-white hover:shadow-xl hover:scale-105 transition-all">
                    <div
                        class="w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                        <i class="fas fa-layer-group text-2xl"></i>
                    </div>
                    <p class="font-bold text-lg">ุงููุฌููุนุงุช</p>
                    <p class="text-purple-100 text-sm mt-1">ุฅุฏุงุฑุฉ ุงููุฌููุนุงุช</p>
                </button>

                <button routerLink="/payments"
                    class="group p-6 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl text-white hover:shadow-xl hover:scale-105 transition-all">
                    <div
                        class="w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                        <i class="fas fa-file-invoice-dollar text-2xl"></i>
                    </div>
                    <p class="font-bold text-lg">ุงููุฏููุนุงุช</p>
                    <p class="text-green-100 text-sm mt-1">ุฅุฏุงุฑุฉ ุงูููุงุชูุฑ</p>
                </button>

                <button routerLink="/messages"
                    class="group p-6 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl text-white hover:shadow-xl hover:scale-105 transition-all">
                    <div
                        class="w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                        <i class="fas fa-envelope text-2xl"></i>
                    </div>
                    <p class="font-bold text-lg">ุงูุฑุณุงุฆู</p>
                    <p class="text-amber-100 text-sm mt-1">ุตูุฏูู ุงูุฑุณุงุฆู</p>
                </button>
            </div>
        </main>
    </ng-container>

    <!-- ==================== STUDENT DASHBOARD ==================== -->
    <ng-container *ngIf="!isLoading && isStudent && studentStats">

        <!-- Student Welcome Header -->
        <div class="relative overflow-hidden bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 text-white">
            <div class="absolute inset-0">
                <div
                    class="absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/4 blur-3xl">
                </div>
                <div
                    class="absolute bottom-0 left-0 w-80 h-80 bg-white/10 rounded-full translate-y-1/2 -translate-x-1/4 blur-3xl">
                </div>
            </div>

            <div class="relative container mx-auto px-4 sm:px-6 py-8 sm:py-12">
                <div class="flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6">
                    <div>
                        <div class="flex items-center gap-3 mb-3">
                            <span class="text-3xl">๐</span>
                            <h1 class="text-2xl sm:text-3xl lg:text-4xl font-bold">ุฃููุงู {{ user?.firstName }}!</h1>
                        </div>
                        <p class="text-emerald-100 text-lg">ุงุณุชูุฑ ูู ุงูุชุนูู ูุญูู ุฃูุฏุงูู</p>
                        <div class="flex items-center gap-4 mt-4">
                            <span class="px-3 py-1 bg-white/20 rounded-full text-sm">
                                <i class="fas fa-user-graduate ml-2"></i>
                                ุทุงูุจ
                            </span>
                            <span *ngIf="studentStats.examsTaken > 0"
                                class="px-3 py-1 bg-white/20 rounded-full text-sm">
                                <i class="fas fa-trophy ml-2"></i>
                                ูุชูุณุท ุงูุฏุฑุฌุงุช: {{ studentStats.averageScore }}%
                            </span>
                        </div>
                    </div>

                    <div class="flex items-center gap-4">
                        <div
                            class="w-20 h-20 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center text-3xl font-bold border-2 border-white/30">
                            {{ getInitials() }}
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <main class="container mx-auto px-4 sm:px-6 py-6 sm:py-8 -mt-6">

            <!-- Student Stats Cards -->
            <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8">

                <!-- My Groups -->
                <div
                    class="group bg-white rounded-2xl p-5 sm:p-6 shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 hover:border-emerald-200 hover:-translate-y-1">
                    <div class="flex items-start justify-between mb-4">
                        <div
                            class="w-14 h-14 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-lg shadow-emerald-500/30 group-hover:scale-110 transition-transform">
                            <i class="fas fa-users text-white text-2xl"></i>
                        </div>
                    </div>
                    <p class="text-gray-500 text-sm mb-1">ูุฌููุนุงุชู</p>
                    <p class="text-3xl font-black text-gray-900">{{ studentStats.myGroupsCount }}</p>
                    <div class="mt-3 pt-3 border-t border-gray-100">
                        <span class="text-xs text-emerald-600 font-medium">ูุฌููุนุงุช ูุณุฌู ุจูุง</span>
                    </div>
                </div>

                <!-- My Subjects -->
                <div
                    class="group bg-white rounded-2xl p-5 sm:p-6 shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 hover:border-blue-200 hover:-translate-y-1">
                    <div class="flex items-start justify-between mb-4">
                        <div
                            class="w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg shadow-blue-500/30 group-hover:scale-110 transition-transform">
                            <i class="fas fa-book text-white text-2xl"></i>
                        </div>
                    </div>
                    <p class="text-gray-500 text-sm mb-1">ููุงุฏู</p>
                    <p class="text-3xl font-black text-gray-900">{{ studentStats.mySubjectsCount }}</p>
                    <div class="mt-3 pt-3 border-t border-gray-100">
                        <span class="text-xs text-blue-600 font-medium">ููุงุฏ ูุณุฌู ุจูุง</span>
                    </div>
                </div>

                <!-- Messages -->
                <div routerLink="/messages"
                    class="cursor-pointer group bg-white rounded-2xl p-5 sm:p-6 shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 hover:border-purple-200 hover:-translate-y-1">
                    <div class="flex items-start justify-between mb-4">
                        <div
                            class="w-14 h-14 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center shadow-lg shadow-purple-500/30 group-hover:scale-110 transition-transform">
                            <i class="fas fa-envelope text-white text-2xl"></i>
                        </div>
                        <span *ngIf="studentStats.unreadMessages > 0"
                            class="px-2 py-1 bg-red-500 text-white rounded-full text-xs font-bold">
                            {{ studentStats.unreadMessages }}
                        </span>
                    </div>
                    <p class="text-gray-500 text-sm mb-1">ุงูุฑุณุงุฆู</p>
                    <p class="text-3xl font-black text-gray-900">{{ studentStats.totalMessages }}</p>
                    <div class="mt-3 pt-3 border-t border-gray-100">
                        <span class="text-xs text-purple-600 font-medium">{{ studentStats.unreadMessages }} ุบูุฑ
                            ููุฑูุกุฉ</span>
                    </div>
                </div>

                <!-- Videos -->
                <div
                    class="group bg-white rounded-2xl p-5 sm:p-6 shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 hover:border-red-200 hover:-translate-y-1">
                    <div class="flex items-start justify-between mb-4">
                        <div
                            class="w-14 h-14 bg-gradient-to-br from-red-500 to-rose-600 rounded-2xl flex items-center justify-center shadow-lg shadow-red-500/30 group-hover:scale-110 transition-transform">
                            <i class="fas fa-play-circle text-white text-2xl"></i>
                        </div>
                    </div>
                    <p class="text-gray-500 text-sm mb-1">ุงูููุฏูููุงุช</p>
                    <p class="text-3xl font-black text-gray-900">{{ studentStats.availableVideos }}</p>
                    <div class="mt-3 pt-3 border-t border-gray-100">
                        <span class="text-xs text-red-600 font-medium">ููุฏูู ูุชุงุญ</span>
                    </div>
                </div>
            </div>

            <!-- Student Main Content -->
            <div class="grid grid-cols-1 xl:grid-cols-3 gap-6 mb-8">

                <!-- My Groups List -->
                <div class="xl:col-span-2 bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                    <div class="p-6 border-b border-gray-100 flex items-center justify-between">
                        <div>
                            <h2 class="text-xl font-bold text-gray-900">ูุฌููุนุงุชู</h2>
                            <p class="text-sm text-gray-500 mt-1">ุงููุฌููุนุงุช ุงููุณุฌู ุจูุง</p>
                        </div>
                    </div>

                    <div class="p-6">
                        <div *ngIf="studentStats.myGroups && studentStats.myGroups.length > 0" class="space-y-4">
                            <div *ngFor="let group of studentStats.myGroups"
                                class="flex items-center gap-4 p-4 bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl border border-emerald-100 hover:shadow-md transition-all">
                                <div
                                    class="w-14 h-14 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center text-white text-xl">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div class="flex-1">
                                    <h3 class="font-bold text-gray-900">{{ group.groupName }}</h3>
                                    <p class="text-sm text-gray-500">ูุฌููุนุฉ ุฏุฑุงุณูุฉ</p>
                                </div>
                            </div>
                        </div>

                        <!-- Empty State -->
                        <div *ngIf="!studentStats.myGroups || studentStats.myGroups.length === 0"
                            class="text-center py-12">
                            <div
                                class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-users text-3xl text-gray-400"></i>
                            </div>
                            <h3 class="text-lg font-bold text-gray-700 mb-2">ูุง ุชูุฌุฏ ูุฌููุนุงุช</h3>
                            <p class="text-gray-500 text-sm">ูู ูุชู ุชุณุฌููู ูู ุฃู ูุฌููุนุฉ ุจุนุฏ</p>
                        </div>
                    </div>
                </div>

                <!-- My Subjects & Upcoming Exams -->
                <div class="space-y-6">
                    <!-- My Subjects -->
                    <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                        <div class="p-5 border-b border-gray-100 flex items-center justify-between">
                            <h2 class="text-lg font-bold text-gray-900">ููุงุฏู</h2>
                            <span class="px-2 py-1 bg-blue-100 text-blue-600 rounded-lg text-xs font-bold">
                                {{ studentStats.mySubjectsCount }} ูุงุฏุฉ
                            </span>
                        </div>

                        <div class="p-4">
                            <div *ngIf="studentStats.mySubjects && studentStats.mySubjects.length > 0"
                                class="space-y-3">
                                <div *ngFor="let subject of studentStats.mySubjects"
                                    class="flex items-center gap-3 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100">
                                    <div
                                        class="w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center text-white">
                                        <i class="fas fa-book"></i>
                                    </div>
                                    <div class="flex-1">
                                        <p class="font-semibold text-gray-900 text-sm">{{ subject.subjectName }}</p>
                                        <p class="text-xs text-gray-500">{{ subject.description || 'ูุงุฏุฉ ุฏุฑุงุณูุฉ' }}</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Empty State -->
                            <div *ngIf="!studentStats.mySubjects || studentStats.mySubjects.length === 0"
                                class="text-center py-8">
                                <div
                                    class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3">
                                    <i class="fas fa-book text-2xl text-gray-400"></i>
                                </div>
                                <p class="text-gray-500 text-sm">ูุง ุชูุฌุฏ ููุงุฏ ูุณุฌูุฉ</p>
                            </div>
                        </div>
                    </div>

                    <!-- Upcoming Exams -->
                    <!-- <div *ngIf="studentStats.upcomingExams && studentStats.upcomingExams.length > 0"
                        class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                        <div class="p-5 border-b border-gray-100">
                            <h2 class="text-lg font-bold text-gray-900">
                                <i class="fas fa-calendar-alt text-amber-500 ml-2"></i>
                                ุงูุชุญุงูุงุช ูุงุฏูุฉ
                            </h2>
                        </div>

                        <div class="p-4 space-y-3">
                            <div *ngFor="let exam of studentStats.upcomingExams.slice(0, 3)"
                                class="p-3 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl border border-amber-100">
                                <p class="font-semibold text-gray-900 text-sm mb-1">{{ exam.examTitle }}</p>
                                <div class="flex items-center gap-2 text-xs text-gray-600">
                                    <i class="fas fa-calendar"></i>
                                    <span>{{ exam.startDate | date: 'dd/MM/yyyy - hh:mm a' }}</span>
                                </div>
                                <div class="flex items-center gap-4 mt-2">
                                    <span class="text-xs text-gray-500">
                                        <i class="fas fa-clock ml-1"></i>
                                        {{ exam.duration }} ุฏูููุฉ
                                    </span>
                                    <span class="text-xs text-gray-500">
                                        <i class="fas fa-star ml-1"></i>
                                        {{ exam.totalMarks }} ุฏุฑุฌุฉ
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div> -->
                </div>
            </div>

            <!-- Student Quick Actions -->
            <div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
                <button routerLink="/videos"
                    class="group p-6 bg-gradient-to-br from-red-500 to-rose-600 rounded-2xl text-white hover:shadow-xl hover:scale-105 transition-all">
                    <div
                        class="w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                        <i class="fas fa-play-circle text-2xl"></i>
                    </div>
                    <p class="font-bold text-lg">ุงูููุฏูููุงุช</p>
                    <p class="text-red-100 text-sm mt-1">ุดุงูุฏ ุงูุฏุฑูุณ</p>
                </button>

                <button routerLink="/exams"
                    class="group p-6 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl text-white hover:shadow-xl hover:scale-105 transition-all">
                    <div
                        class="w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                        <i class="fa-solid fa-book text-2xl"></i>
                    </div>
                    <p class="font-bold text-lg">ุงูููุงุฏ</p>
                    <p class="text-amber-100 text-sm mt-1">ุงูููุงุฏ ุงูุนูููุฉ</p>
                </button>

                <button routerLink="/messages"
                    class="group p-6 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl text-white hover:shadow-xl hover:scale-105 transition-all">
                    <div
                        class="w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                        <i class="fas fa-envelope text-2xl"></i>
                    </div>
                    <p class="font-bold text-lg">ุงูุฑุณุงุฆู</p>
                    <p class="text-purple-100 text-sm mt-1">ุชูุงุตู ูุน ุงููุนูู</p>
                </button>

                <button routerLink="/users/profile"
                    class="group p-6 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl text-white hover:shadow-xl hover:scale-105 transition-all">
                    <div
                        class="w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                        <i class="fas fa-user text-2xl"></i>
                    </div>
                    <p class="font-bold text-lg">ุญุณุงุจู</p>
                    <p class="text-emerald-100 text-sm mt-1">ุงูููู ุงูุดุฎุตู</p>
                </button>
            </div>
        </main>
    </ng-container>

</div>